<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>
	<ui:composition template="/template_michelle/template_michelle.xhtml">
		<ui:define name="conteudo">
			<p:outputPanel autoUpdate="true">
				<h:panelGroup id="mensagens" layout="block">
					<p:messages id="messages" showDetail="false" autoUpdate="true" />
					<p:outputPanel id="divMensagemErro" autoUpdate="true">
							<p:growl id="messages1" showDetail="false" life="5000"
								autoUpdate="true" globalOnly="true" />
						
					</p:outputPanel>
				</h:panelGroup>
			</p:outputPanel>
			<section class="content">
				<!-- Default box -->
				<div class="box">
					<div class="box-header with-border">
						<h3 class="box-title">#{text['importar_nfe_tittle']}</h3>
						<div class="box-tools pull-right">
							<button class="btn btn-box-tool" data-widget="collapse"
								data-toggle="tooltip" title="Collapse">
								<i class="fa fa-minus"></i>
							</button>
							<button class="btn btn-box-tool" data-widget="remove"
								data-toggle="tooltip" title="Remove">
								<i class="fa fa-times"></i>
							</button>
						</div>
					</div>
					<h:form binding="#{nfeImportarXmlMB.form}" id="formBody">
						<div class="box-body">
							<p:panel>
								<t:saveState value="#{nfeImportarXmlMB.state}" />
								<t:saveState value="#{nfeImportarXmlMB.notaFiscal}" />
							 	<div>
							 		<h:form enctype="multipart/form-data">
								<p:fileUpload fileUploadListener="#{nfeImportarXmlMB.importarNFE}" 
           							 mode="advanced"   
            						 fileLimit="1000000"
            						 cancelLabel="Cancelar"
            						 multiple="true"
                             		 fileLimitMessage="#{text['importar_nfe_limite_acima']}"
                             		 label="#{text['label.selecionar']}"
                             		 invalidFileMessage="#{text['importar_nfe_nao_permitido']}"
                             		 invalidSizeMessage="#{text['importar_nfe_tamanho_acima']}"
                              		 uploadLabel="#{text['label.upload']}"   
           							  />
           						</h:form>
							 	
							 	</div>
							 	
							 	<div class="row">
							 		<div class="col-md-5">
													<p:commandButton value="#{text['label.adicionar']}"
														ajax="false" process="@this" update="@form :mensagens" 
														tabindex="10"
														action="#{nfeImportarXmlMB.listarNotas()}"
														styleClass="btn btn-block btn-success width100">
													</p:commandButton>
												</div>
							 	
							 	</div>
							 	
							</p:panel>
						</div>
						<!-- /.box-body -->
					</h:form>

				</div>
				<!-- /.box -->
			</section>
			<!-- /.content -->





		</ui:define>

	</ui:composition>

</h:body>

</html>